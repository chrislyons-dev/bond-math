<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="507px" preserveAspectRatio="none" style="width:2836px;height:507px;background:#FFFFFF;" version="1.1" viewBox="0 0 2836 507" width="2836px" zoomAndPan="magnify"><title>Gateway - Class Diagram</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="167.2959" x="1327.4724" y="24.5332">Gateway - Class Diagram</text><!--class ActorClaim--><g id="elem_ActorClaim"><rect codeLine="6" fill="#F1F1F1" height="153.6563" id="ActorClaim" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.6895" x="10" y="329.1094"/><ellipse cx="25.1055" cy="345.1094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M26.0586,341.75 L26.0586,348.4063 L27.7773,348.4063 Q28.3867,348.4063 28.6523,348.6406 Q28.918,348.875 28.918,349.2656 Q28.918,349.6406 28.6523,349.875 Q28.3867,350.1094 27.7773,350.1094 L22.6367,350.1094 Q22.0273,350.1094 21.7617,349.875 Q21.4961,349.6406 21.4961,349.25 Q21.4961,348.875 21.7617,348.6406 Q22.0273,348.4063 22.6367,348.4063 L24.3555,348.4063 L24.3555,341.75 L22.6367,341.75 Q22.0273,341.75 21.7617,341.5156 Q21.4961,341.2813 21.4961,340.8906 Q21.4961,340.5156 21.7617,340.2813 Q22.0273,340.0469 22.6367,340.0469 L27.7773,340.0469 Q28.3867,340.0469 28.6523,340.2813 Q28.918,340.5156 28.918,340.8906 Q28.918,341.2813 28.6523,341.5156 Q28.3867,341.75 27.7773,341.75 L26.0586,341.75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.4551" x="39.1289" y="350.8379">ActorClaim</text><line style="stroke:#181818;stroke-width:0.5;" x1="11" x2="109.6895" y1="361.1094" y2="361.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.124" x="16" y="379.6426">iss: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5859" x="16" y="397.252">sub: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="16" y="414.8613">role?: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.6895" x="16" y="432.4707">perms: string[]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.0342" x="16" y="450.0801">org?: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4824" x="16" y="467.6895">uid?: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="11" x2="109.6895" y1="474.7656" y2="474.7656"/></g><g id="elem_GMN3"><path d="M146,384.6094 L146,402.6094 L111.19,406.6094 L146,410.6094 L146,427.3125 A0,0 0 0 0 146,427.3125 L473.1602,427.3125 A0,0 0 0 0 473.1602,427.3125 L473.1602,394.6094 L463.1602,384.6094 L146,384.6094 A0,0 0 0 0 146,384.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M463.1602,384.6094 L463.1602,394.6094 L473.1602,394.6094 L463.1602,384.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="152" y="403.1045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306.1602" x="152" y="419.4561">Actor claim - represents "Service X acting for User Y"</text></g><!--class Auth0Claims--><g id="elem_Auth0Claims"><rect codeLine="19" fill="#F1F1F1" height="171.2656" id="Auth0Claims" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.2686" x="382.5" y="63.1094"/><ellipse cx="412.3065" cy="79.1094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M413.2596,75.75 L413.2596,82.4063 L414.9784,82.4063 Q415.5877,82.4063 415.8534,82.6406 Q416.119,82.875 416.119,83.2656 Q416.119,83.6406 415.8534,83.875 Q415.5877,84.1094 414.9784,84.1094 L409.8377,84.1094 Q409.2284,84.1094 408.9627,83.875 Q408.6971,83.6406 408.6971,83.25 Q408.6971,82.875 408.9627,82.6406 Q409.2284,82.4063 409.8377,82.4063 L411.5565,82.4063 L411.5565,75.75 L409.8377,75.75 Q409.2284,75.75 408.9627,75.5156 Q408.6971,75.2813 408.6971,74.8906 Q408.6971,74.5156 408.9627,74.2813 Q409.2284,74.0469 409.8377,74.0469 L414.9784,74.0469 Q415.5877,74.0469 415.8534,74.2813 Q416.119,74.5156 416.119,74.8906 Q416.119,75.2813 415.8534,75.5156 Q415.5877,75.75 414.9784,75.75 L413.2596,75.75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.3652" x="429.5968" y="84.8379">Auth0Claims</text><line style="stroke:#181818;stroke-width:0.5;" x1="383.5" x2="525.7686" y1="95.1094" y2="95.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.124" x="388.5" y="113.6426">iss: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5859" x="388.5" y="131.252">sub: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.8018" x="388.5" y="148.8613">aud: string | string[]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.8203" x="388.5" y="166.4707">exp: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.0342" x="388.5" y="184.0801">iat: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="388.5" y="201.6895">scope?: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.2686" x="388.5" y="219.2988">permissions?: string[]</text><line style="stroke:#181818;stroke-width:0.5;" x1="383.5" x2="525.7686" y1="226.375" y2="226.375"/></g><g id="elem_GMN7"><path d="M561.5,127.1094 L561.5,144.6094 L526.58,148.6094 L561.5,152.6094 L561.5,169.8125 A0,0 0 0 0 561.5,169.8125 L791.2744,169.8125 A0,0 0 0 0 791.2744,169.8125 L791.2744,137.1094 L781.2744,127.1094 L561.5,127.1094 A0,0 0 0 0 561.5,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M781.2744,127.1094 L781.2744,137.1094 L791.2744,137.1094 L781.2744,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="567.5" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.7744" x="567.5" y="161.9561">Auth0 JWT claims (after verification)</text></g><!--class Env--><g id="elem_Env"><rect codeLine="37" fill="#F1F1F1" height="206.4844" id="Env" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224.3721" x="826.5" y="45.6094"/><ellipse cx="922.374" cy="61.6094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M923.3271,58.25 L923.3271,64.9063 L925.0459,64.9063 Q925.6553,64.9063 925.9209,65.1406 Q926.1865,65.375 926.1865,65.7656 Q926.1865,66.1406 925.9209,66.375 Q925.6553,66.6094 925.0459,66.6094 L919.9053,66.6094 Q919.2959,66.6094 919.0303,66.375 Q918.7646,66.1406 918.7646,65.75 Q918.7646,65.375 919.0303,65.1406 Q919.2959,64.9063 919.9053,64.9063 L921.624,64.9063 L921.624,58.25 L919.9053,58.25 Q919.2959,58.25 919.0303,58.0156 Q918.7646,57.7813 918.7646,57.3906 Q918.7646,57.0156 919.0303,56.7813 Q919.2959,56.5469 919.9053,56.5469 L925.0459,56.5469 Q925.6553,56.5469 925.9209,56.7813 Q926.1865,57.0156 926.1865,57.3906 Q926.1865,57.7813 925.9209,58.0156 Q925.6553,58.25 925.0459,58.25 L923.3271,58.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="24.124" x="942.874" y="67.3379">Env</text><line style="stroke:#181818;stroke-width:0.5;" x1="827.5" x2="1049.8721" y1="77.6094" y2="77.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="832.5" y="96.1426">AUTH0_DOMAIN: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.041" x="832.5" y="113.752">AUTH0_AUDIENCE: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212.3721" x="832.5" y="131.3613">INTERNAL_JWT_SECRET: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.4756" x="832.5" y="148.9707">INTERNAL_JWT_TTL: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.248" x="832.5" y="166.5801">ENVIRONMENT?: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.3721" x="832.5" y="184.1895">SVC_DAYCOUNT: Fetcher</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.165" x="832.5" y="201.7988">SVC_VALUATION: Fetcher</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.8135" x="832.5" y="219.4082">SVC_METRICS: Fetcher</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.1514" x="832.5" y="237.0176">SVC_PRICING: Fetcher</text><line style="stroke:#181818;stroke-width:0.5;" x1="827.5" x2="1049.8721" y1="244.0938" y2="244.0938"/></g><g id="elem_GMN11"><path d="M1086,127.1094 L1086,144.6094 L1050.8,148.6094 L1086,152.6094 L1086,169.8125 A0,0 0 0 0 1086,169.8125 L1317.2471,169.8125 A0,0 0 0 0 1317.2471,169.8125 L1317.2471,137.1094 L1307.2471,127.1094 L1086,127.1094 A0,0 0 0 0 1086,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1307.2471,127.1094 L1307.2471,137.1094 L1317.2471,137.1094 L1307.2471,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="1092" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.2471" x="1092" y="161.9561">Type definitions for Gateway Worker</text></g><!--class ErrorResponse--><g id="elem_ErrorResponse"><rect codeLine="53" fill="#F1F1F1" height="136.0469" id="ErrorResponse" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.1514" x="1352.5" y="80.6094"/><ellipse cx="1367.5" cy="96.6094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1368.4531,93.25 L1368.4531,99.9063 L1370.1719,99.9063 Q1370.7813,99.9063 1371.0469,100.1406 Q1371.3125,100.375 1371.3125,100.7656 Q1371.3125,101.1406 1371.0469,101.375 Q1370.7813,101.6094 1370.1719,101.6094 L1365.0313,101.6094 Q1364.4219,101.6094 1364.1563,101.375 Q1363.8906,101.1406 1363.8906,100.75 Q1363.8906,100.375 1364.1563,100.1406 Q1364.4219,99.9063 1365.0313,99.9063 L1366.75,99.9063 L1366.75,93.25 L1365.0313,93.25 Q1364.4219,93.25 1364.1563,93.0156 Q1363.8906,92.7813 1363.8906,92.3906 Q1363.8906,92.0156 1364.1563,91.7813 Q1364.4219,91.5469 1365.0313,91.5469 L1370.1719,91.5469 Q1370.7813,91.5469 1371.0469,91.7813 Q1371.3125,92.0156 1371.3125,92.3906 Q1371.3125,92.7813 1371.0469,93.0156 Q1370.7813,93.25 1370.1719,93.25 L1368.4531,93.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94.1514" x="1381.5" y="102.3379">ErrorResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="1353.5" x2="1477.6514" y1="112.6094" y2="112.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4756" x="1358.5" y="131.1426">type: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7998" x="1358.5" y="148.752">title: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5996" x="1358.5" y="166.3613">status: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4824" x="1358.5" y="183.9707">detail: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9443" x="1358.5" y="201.5801">instance?: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="1353.5" x2="1477.6514" y1="208.6563" y2="208.6563"/></g><g id="elem_GMN15"><path d="M1513.5,127.1094 L1513.5,144.6094 L1478.65,148.6094 L1513.5,152.6094 L1513.5,169.8125 A0,0 0 0 0 1513.5,169.8125 L1777.2661,169.8125 A0,0 0 0 0 1777.2661,169.8125 L1777.2661,137.1094 L1767.2661,127.1094 L1513.5,127.1094 A0,0 0 0 0 1513.5,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1767.2661,127.1094 L1767.2661,137.1094 L1777.2661,137.1094 L1767.2661,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="1519.5" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242.7661" x="1519.5" y="161.9561">RFC 7807 Problem Details error response</text></g><!--class InternalJWT--><g id="elem_InternalJWT"><rect codeLine="65" fill="#F1F1F1" height="153.6563" id="InternalJWT" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.4619" x="7" y="71.6094"/><ellipse cx="22" cy="87.6094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M22.9531,84.25 L22.9531,90.9063 L24.6719,90.9063 Q25.2813,90.9063 25.5469,91.1406 Q25.8125,91.375 25.8125,91.7656 Q25.8125,92.1406 25.5469,92.375 Q25.2813,92.6094 24.6719,92.6094 L19.5313,92.6094 Q18.9219,92.6094 18.6563,92.375 Q18.3906,92.1406 18.3906,91.75 Q18.3906,91.375 18.6563,91.1406 Q18.9219,90.9063 19.5313,90.9063 L21.25,90.9063 L21.25,84.25 L19.5313,84.25 Q18.9219,84.25 18.6563,84.0156 Q18.3906,83.7813 18.3906,83.3906 Q18.3906,83.0156 18.6563,82.7813 Q18.9219,82.5469 19.5313,82.5469 L24.6719,82.5469 Q25.2813,82.5469 25.5469,82.7813 Q25.8125,83.0156 25.8125,83.3906 Q25.8125,83.7813 25.5469,84.0156 Q25.2813,84.25 24.6719,84.25 L22.9531,84.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.4619" x="36" y="93.3379">InternalJWT</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="113.4619" y1="103.6094" y2="103.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.124" x="13" y="122.1426">iss: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5859" x="13" y="139.752">sub: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3721" x="13" y="157.3613">aud: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.8203" x="13" y="174.9707">exp: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5723" x="13" y="192.5801">rid: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9102" x="13" y="210.1895">act: ActorClaim</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="113.4619" y1="217.2656" y2="217.2656"/></g><g id="elem_GMN19"><path d="M149.5,127.1094 L149.5,144.6094 L114.12,148.6094 L149.5,152.6094 L149.5,169.8125 A0,0 0 0 0 149.5,169.8125 L347.5171,169.8125 A0,0 0 0 0 347.5171,169.8125 L347.5171,137.1094 L337.5171,127.1094 L149.5,127.1094 A0,0 0 0 0 149.5,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M337.5171,127.1094 L337.5171,137.1094 L347.5171,137.1094 L337.5171,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="155.5" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0171" x="155.5" y="161.9561">Internal JWT payload structure</text></g><!--class JWK--><g id="elem_JWK"><rect codeLine="78" fill="#F1F1F1" height="188.875" id="JWK" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.3652" x="1810" y="311.6094"/><ellipse cx="1838.4161" cy="327.6094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1839.3692,324.25 L1839.3692,330.9063 L1841.0879,330.9063 Q1841.6973,330.9063 1841.9629,331.1406 Q1842.2286,331.375 1842.2286,331.7656 Q1842.2286,332.1406 1841.9629,332.375 Q1841.6973,332.6094 1841.0879,332.6094 L1835.9473,332.6094 Q1835.3379,332.6094 1835.0723,332.375 Q1834.8067,332.1406 1834.8067,331.75 Q1834.8067,331.375 1835.0723,331.1406 Q1835.3379,330.9063 1835.9473,330.9063 L1837.6661,330.9063 L1837.6661,324.25 L1835.9473,324.25 Q1835.3379,324.25 1835.0723,324.0156 Q1834.8067,323.7813 1834.8067,323.3906 Q1834.8067,323.0156 1835.0723,322.7813 Q1835.3379,322.5469 1835.9473,322.5469 L1841.0879,322.5469 Q1841.6973,322.5469 1841.9629,322.7813 Q1842.2286,323.0156 1842.2286,323.3906 Q1842.2286,323.7813 1841.9629,324.0156 Q1841.6973,324.25 1841.0879,324.25 L1839.3692,324.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="29.5518" x="1855.3974" y="333.3379">JWK</text><line style="stroke:#181818;stroke-width:0.5;" x1="1811" x2="1900.3652" y1="343.6094" y2="343.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9033" x="1816" y="362.1426">kty: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5859" x="1816" y="379.752">use: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9102" x="1816" y="397.3613">kid: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.7998" x="1816" y="414.9707">n: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.7998" x="1816" y="432.5801">e: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4824" x="1816" y="450.1895">alg?: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3652" x="1816" y="467.7988">x5c?: string[]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4756" x="1816" y="485.4082">x5t?: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="1811" x2="1900.3652" y1="492.4844" y2="492.4844"/></g><g id="elem_GMN23"><path d="M1936.5,384.6094 L1936.5,402.6094 L1901.18,406.6094 L1936.5,410.6094 L1936.5,427.3125 A0,0 0 0 0 1936.5,427.3125 L2102.709,427.3125 A0,0 0 0 0 2102.709,427.3125 L2102.709,394.6094 L2092.709,384.6094 L1936.5,384.6094 A0,0 0 0 0 1936.5,384.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2092.709,384.6094 L2092.709,394.6094 L2102.709,394.6094 L2092.709,384.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="1942.5" y="403.1045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.209" x="1942.5" y="419.4561">JSON Web Key structure</text></g><!--class JWKS--><g id="elem_JWKS"><rect codeLine="93" fill="#F1F1F1" height="65.6094" id="JWKS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.8965" x="1812.5" y="115.6094"/><ellipse cx="1834.2531" cy="131.6094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1835.2062,128.25 L1835.2062,134.9063 L1836.925,134.9063 Q1837.5343,134.9063 1837.8,135.1406 Q1838.0656,135.375 1838.0656,135.7656 Q1838.0656,136.1406 1837.8,136.375 Q1837.5343,136.6094 1836.925,136.6094 L1831.7843,136.6094 Q1831.175,136.6094 1830.9093,136.375 Q1830.6437,136.1406 1830.6437,135.75 Q1830.6437,135.375 1830.9093,135.1406 Q1831.175,134.9063 1831.7843,134.9063 L1833.5031,134.9063 L1833.5031,128.25 L1831.7843,128.25 Q1831.175,128.25 1830.9093,128.0156 Q1830.6437,127.7813 1830.6437,127.3906 Q1830.6437,127.0156 1830.9093,126.7813 Q1831.175,126.5469 1831.7843,126.5469 L1836.925,126.5469 Q1837.5343,126.5469 1837.8,126.7813 Q1838.0656,127.0156 1838.0656,127.3906 Q1838.0656,127.7813 1837.8,128.0156 Q1837.5343,128.25 1836.925,128.25 L1835.2062,128.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38.8896" x="1849.7538" y="137.3379">JWKS</text><line style="stroke:#181818;stroke-width:0.5;" x1="1813.5" x2="1897.3965" y1="147.6094" y2="147.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.8965" x="1818.5" y="166.1426">keys: JWK[]</text><line style="stroke:#181818;stroke-width:0.5;" x1="1813.5" x2="1897.3965" y1="173.2188" y2="173.2188"/></g><g id="elem_GMN27"><path d="M1933.5,127.1094 L1933.5,144.6094 L1898.85,148.6094 L1933.5,152.6094 L1933.5,169.8125 A0,0 0 0 0 1933.5,169.8125 L2139.4707,169.8125 A0,0 0 0 0 2139.4707,169.8125 L2139.4707,137.1094 L2129.4707,127.1094 L1933.5,127.1094 A0,0 0 0 0 1933.5,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2129.4707,127.1094 L2129.4707,137.1094 L2139.4707,137.1094 L2129.4707,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="1939.5" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.9707" x="1939.5" y="161.9561">Auth0 JWKS response structure</text></g><!--class ServiceRoute--><g id="elem_ServiceRoute"><rect codeLine="101" fill="#F1F1F1" height="100.8281" id="ServiceRoute" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.8408" x="2174.5" y="98.1094"/><ellipse cx="2196.6099" cy="114.1094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2197.563,110.75 L2197.563,117.4063 L2199.2818,117.4063 Q2199.8912,117.4063 2200.1568,117.6406 Q2200.4224,117.875 2200.4224,118.2656 Q2200.4224,118.6406 2200.1568,118.875 Q2199.8912,119.1094 2199.2818,119.1094 L2194.1412,119.1094 Q2193.5318,119.1094 2193.2662,118.875 Q2193.0005,118.6406 2193.0005,118.25 Q2193.0005,117.875 2193.2662,117.6406 Q2193.5318,117.4063 2194.1412,117.4063 L2195.8599,117.4063 L2195.8599,110.75 L2194.1412,110.75 Q2193.5318,110.75 2193.2662,110.5156 Q2193.0005,110.2813 2193.0005,109.8906 Q2193.0005,109.5156 2193.2662,109.2813 Q2193.5318,109.0469 2194.1412,109.0469 L2199.2818,109.0469 Q2199.8912,109.0469 2200.1568,109.2813 Q2200.4224,109.5156 2200.4224,109.8906 Q2200.4224,110.2813 2200.1568,110.5156 Q2199.8912,110.75 2199.2818,110.75 L2197.563,110.75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84.041" x="2212.1899" y="119.8379">ServiceRoute</text><line style="stroke:#181818;stroke-width:0.5;" x1="2175.5" x2="2305.3408" y1="130.1094" y2="130.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.248" x="2180.5" y="148.6426">prefix: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.4063" x="2180.5" y="166.252">binding: keyof Env</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8408" x="2180.5" y="183.8613">stripPrefix: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="2175.5" x2="2305.3408" y1="190.9375" y2="190.9375"/></g><g id="elem_GMN31"><path d="M2342,127.1094 L2342,144.6094 L2306.66,148.6094 L2342,152.6094 L2342,169.8125 A0,0 0 0 0 2342,169.8125 L2493.0698,169.8125 A0,0 0 0 0 2493.0698,169.8125 L2493.0698,137.1094 L2483.0698,127.1094 L2342,127.1094 A0,0 0 0 0 2342,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2483.0698,127.1094 L2483.0698,137.1094 L2493.0698,137.1094 L2483.0698,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="2348" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.0698" x="2348" y="161.9561">Service route mapping</text></g><!--class Variables--><g id="elem_Variables"><rect codeLine="111" fill="#F1F1F1" height="83.2188" id="Variables" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.3857" x="2528.5" y="107.1094"/><ellipse cx="2553.4092" cy="123.1094" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2554.3624,119.75 L2554.3624,126.4063 L2556.0811,126.4063 Q2556.6905,126.4063 2556.9561,126.6406 Q2557.2217,126.875 2557.2217,127.2656 Q2557.2217,127.6406 2556.9561,127.875 Q2556.6905,128.1094 2556.0811,128.1094 L2550.9405,128.1094 Q2550.3311,128.1094 2550.0655,127.875 Q2549.7999,127.6406 2549.7999,127.25 Q2549.7999,126.875 2550.0655,126.6406 Q2550.3311,126.4063 2550.9405,126.4063 L2552.6592,126.4063 L2552.6592,119.75 L2550.9405,119.75 Q2550.3311,119.75 2550.0655,119.5156 Q2549.7999,119.2813 2549.7999,118.8906 Q2549.7999,118.5156 2550.0655,118.2813 Q2550.3311,118.0469 2550.9405,118.0469 L2556.0811,118.0469 Q2556.6905,118.0469 2556.9561,118.2813 Q2557.2217,118.5156 2557.2217,118.8906 Q2557.2217,119.2813 2556.9561,119.5156 Q2556.6905,119.75 2556.0811,119.75 L2554.3624,119.75 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="58.3652" x="2569.6113" y="128.8379">Variables</text><line style="stroke:#181818;stroke-width:0.5;" x1="2529.5" x2="2639.8857" y1="139.1094" y2="139.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.3857" x="2534.5" y="157.6426">requestId: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.71" x="2534.5" y="175.252">userId?: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="2529.5" x2="2639.8857" y1="182.3281" y2="182.3281"/></g><g id="elem_GMN35"><path d="M2676,127.1094 L2676,144.6094 L2640.91,148.6094 L2676,152.6094 L2676,169.8125 A0,0 0 0 0 2676,169.8125 L2829.2407,169.8125 A0,0 0 0 0 2829.2407,169.8125 L2829.2407,137.1094 L2819.2407,127.1094 L2676,127.1094 A0,0 0 0 0 2676,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2819.2407,127.1094 L2819.2407,137.1094 L2829.2407,137.1094 L2819.2407,127.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="2682" y="145.6045">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2407" x="2682" y="161.9561">Hono context variables</text></g><!--link InternalJWT to ActorClaim--><g id="link_InternalJWT_ActorClaim"><path codeLine="121" d="M60.5,225.8694 C60.5,258.4594 60.5,290.3194 60.5,322.9094 " fill="none" id="InternalJWT-to-ActorClaim" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="60.5,328.9094,64.5,319.9094,60.5,323.9094,56.5,319.9094,60.5,328.9094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.46" x="32.5" y="273.8845">uses</text></g><!--link JWKS to JWK--><g id="link_JWKS_JWK"><path codeLine="122" d="M1855.5,181.7494 C1855.5,214.4794 1855.5,260.1094 1855.5,305.5894 " fill="none" id="JWKS-to-JWK" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1855.5,311.5894,1859.5,302.5894,1855.5,306.5894,1851.5,302.5894,1855.5,311.5894" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.46" x="1827.5" y="243.1645">uses</text></g><!--SRC=[bLLBSzem4BxxL-paGdieuP99XqCp7d0Ivs4oOA2PJeSHzW8QZEHACeK-_djNvYKUAPERLhlQxzkd33SPmXqp-9CjuHCqCgOrD3aRApRpF3tb8cTqXCGgV6CK7nO6mqIA3l-5K7DCCYxGB7C4gSn4UXuN1jM89GX-OgGYrtm6lpq0hdKTDBaIOv9qCNGa9JEySUGSrMnh_UqxtKWrTWqAdkx4lvwG1a7nySI073d0PEcLaes4U7m2XRb2ZS9ekEYWcdCY-XLOOiWHZCYmgr71wuM78WNhTY-YmangfMDzDYHMf1i9_hYHu2AlWoXcGrJM1JEEf1EP7oM2KBWK-cOl7vM9CRckNruEfKXdp4ogoKHndIt9ifhY_DAcjEAwEll2mQgy4woWf0ru-ZuyAkd-cwCwxj9T5jAAyD2FLyNKy86Dg38mHyL7F666c7yyMRT0pCjw-TtulZPejfxzC7AOhgxzRZCCeaRWAC8e3jgH_pGWq44dQBI3-2rj73yvgY3gXUrMz1n4iPkIJgynQFglZLOt8aUtQ999MNPxt_EVkduSjg93nNCGjyD6v_3wXIx3w6vtVPWz2jfcBRQpcUA82suJfCictun-NwefFJsPCwMaQgFEwGsMsRDJxWHZx19nszymKsYdcLCqZ6UE1HTa8n9yk-9xe9Pz-xO1rvzhr_2Yv3336JHBfnhGMj8qhqrFHH3Qas2PxPXtJElHY2hkwcXLrDqDSnY2Wse3s8Xbt-PicKcMMcT5OWfrclT3_x7aEpLBT-DfDzdJFKx2vUvopVQMvk8gsP_hnPLvknP4mmRmq6b5qCSXFEBoFF7EYZakATKa4ie9jnrtckd9fefdtA_NTLlILrJ2q2OVyOKJu92Bb4vrIs0x0LQRlwnDXvBM8XD7h5pVbjtcQr0bs8pbkKKunQh756VKcgiVGU6F0hK9q_tAgV0_tzNMWmM-bq82_RC65mRcMyqEkG9jpCfTfoSyrvxRvTNg5_VNhLjexPKvjYhRMEkxVm00]--></g></svg>